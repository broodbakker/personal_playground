(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{4372:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});var n=r(7294),i=r(962);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var a=(0,n.forwardRef)((function(e,t){return n.createElement(i.x,o({ref:t,viewBox:"0 0 24 24",a11yTitle:"Search"},e),n.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"m15 15 7 7-7-7zm-5.5 2a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15z"}))}));a.displayName="Search"},211:function(e,t,r){"use strict";r.d(t,{X:function(){return p}});var n=r(7294),i=r(2125),o=r(9207),a=r(6808),s=r(363),u=r(1755),l=(0,i.css)(["color:",";"],(function(e){return(0,a.ut)(e.colorProp||e.theme.heading.color,e.theme)})),c=i.default.h1.withConfig({displayName:"StyledHeading",componentId:"sc-1rdh4aw-0"})([""," "," "," "," "," "," ",""],s.$G,(function(e){return function(e){var t=(e.theme.heading.level[e.level]||{}).font;return t&&t.family?(0,i.css)(["font-family:",";"],t.family):e.theme.heading.font?(0,i.css)(["font-family:",";"],e.theme.heading.font.family):""}(e)}),(function(e){return function(e){var t=e.size||"medium",r=e.theme.heading,n=r.level[e.level];if(n){var a=n[t],s=[(0,i.css)(["font-size:",";line-height:",";max-width:",";font-weight:",";"],a?a.size:t,a?a.height:"normal",(e.fillProp?"none":a&&a.maxWidth)||n.medium.maxWidth,n.font.weight||r.weight)];if(e.responsive&&r.responsiveBreakpoint){var u=e.theme.global.breakpoints[r.responsiveBreakpoint];if(u){var l=r.level[e.level+1]?r.level[e.level+1][t]:r.level[e.level][t];l&&s.push((0,o.bk)(u,"\n            font-size: "+l.size+";\n            line-height: "+l.height+";\n            max-width: "+(e.fillProp?"none":l.maxWidth)+";\n          "))}}return s}return console.warn("Heading level "+e.level+" is not defined in your theme."),""}(e)}),(function(e){return e.textAlign&&s.jt}),(function(e){return e.truncate&&"\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"}),(function(e){return(e.colorProp||e.theme.heading.color)&&l}),(function(e){return e.theme.heading&&e.theme.heading.extend}));c.defaultProps={},Object.setPrototypeOf(c.defaultProps,u.l);var d={},f=["color","fill","level"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}var p=(0,n.forwardRef)((function(e,t){var r=e.color,i=e.fill,o=e.level,a=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,f);return n.createElement(c,h({as:"h"+o,colorProp:r,fillProp:i,level:+o},a,{ref:t}))}));p.displayName="Heading",p.defaultProps={level:1,responsive:!0},p.propTypes=d},7448:function(e,t,r){"use strict";r.d(t,{o:function(){return se}});var n=r(7294),i=r(2125),o=r(1755),a=r(9719),s=r(6093),u=r(6808);var l={},c=r(4187),d=r(9207),f=r(2320),h=r(363),p=(0,i.css)([""," "," flex-grow:1;display:flex;"],(function(e){return!0===e.fillContainer||"horizontal"===e.fillContainer?"\n        width: 100%;\n        max-width: none;\n      ":""}),(function(e){return!0===e.fillContainer||"vertical"===e.fillContainer?"height: 100%;":""})),m=i.default.div.withConfig({displayName:"StyledStack",componentId:"sc-ajspsk-0"})(["position:relative;"," "," ",""],h.$G,(function(e){return e.fillContainer&&p}),(function(e){return e.theme.stack&&e.theme.stack.extend}));m.defaultProps={},Object.setPrototypeOf(m.defaultProps,o.l);var v={fill:"\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  ",center:"\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  ",left:"\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n  ",right:"\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n  ",top:"\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ",bottom:"\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  ","top-left":"\n    top: 0;\n    left: 0;\n  ","bottom-left":"\n    bottom: 0;\n    left: 0;\n  ","top-right":"\n    top: 0;\n    right: 0;\n  ","bottom-right":"\n    bottom: 0;\n    right: 0;\n  "},g=i.default.div.withConfig({displayName:"StyledStack__StyledStackLayer",componentId:"sc-ajspsk-1"})(["position:",";"," "," "," ",""],(function(e){return e.guiding?"relative":"absolute"}),(function(e){return e.guiding&&"display: block;"}),(function(e){return!e.guiding&&v[e.anchor||"fill"]+";"}),(function(e){return e.fillContainer&&"\n    width: 100%;\n    height: 100%;\n  "}),(function(e){return!e.interactive&&"pointer-events: none;"}));g.defaultProps={},Object.setPrototypeOf(g.defaultProps,o.l);var y={},b=["anchor","children","fill","guidingChild","interactiveChild"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}var w=(0,n.forwardRef)((function(e,t){var r=e.anchor,i=e.children,o=e.fill,a=e.guidingChild,s=e.interactiveChild,u=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,b),l=n.Children.toArray(i).filter((function(e){return e})),c=function(e){var t=e;return"first"!==t&&t?"last"===t&&(t=l.length-1):t=0,t},d=c(a),f=s&&c(s),h=l.map(function(e){var t=e.anchor,r=e.fill,i=e.guidingIndex,o=e.interactiveChild,a=e.interactiveIndex;return function(e,s){var u=void 0===o||a===s,l=s===i?{guiding:!0,fillContainer:r}:{anchor:t};return n.createElement(g,x({key:s,interactive:u},l),e)}}({anchor:r,fill:o,guidingIndex:d,interactiveChild:s,interactiveIndex:f}));return n.createElement(m,x({ref:t,fillContainer:o},u),h)}));w.displayName="Stack",w.propTypes=y;var k=r(9517),E=(0,i.default)(a.x).withConfig({displayName:"Badge__StyledBadgeContainer",componentId:"sc-1es4ws1-0"})(["",""],(function(e){return e.theme.button.badge.container.extend})),S=function(e){var t,r,o=e.children,s=e.content,u=(0,n.useContext)(i.ThemeContext),l=(0,n.useRef)(),c=(0,n.useRef)(),h="boolean"===typeof s||s&&s.value&&"boolean"===typeof s.value?(0,d.gd)(u.button.badge.size.medium)/2+"px":u.button.badge.size.medium,p=(0,n.useState)(h),m=p[0],v=p[1],g=(0,n.useState)(m),y=g[0],b=g[1];if((0,f.b)((function(){var e=function(){if(l&&l.current)if("number"===typeof s||"object"===typeof s&&s.value){var e=l.current.getBoundingClientRect(),t=e.height,r=e.width;if(t){var n=2.5*((0,d.gd)(m)-t);b(Math.max((0,d.gd)(y),Math.ceil(r+n))+"px")}}else b(l.current.getBoundingClientRect().width+"px"),v(l.current.getBoundingClientRect().height+"px")};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[s,m,y]),(0,f.b)((function(){if(c&&c.current){var e="boolean"===typeof s||s&&!0===s.value?3.5:2,t={right:"-"+Math.round((0,d.gd)(y)/e)+"px",top:"-"+Math.round((0,d.gd)(m)/e)+"px"};c.current.children[1].style.top=t.top,c.current.children[1].style.right=t.right}}),[s,m,y]),"number"===typeof s?t=s:"object"===typeof s&&(t=s.value),"number"===typeof t||"boolean"===typeof t||"boolean"===typeof s){if("number"===typeof t){var x=s.max||9;r=n.createElement(k.x,{color:"text-strong",size:u.button.badge.text.size.medium,weight:"normal",ref:l},t>x?x+"+":t)}r=n.createElement(E,{align:"center",background:s.background||u.button.badge.container.background,flex:!1,height:{min:m},justify:"center",round:!0,pad:"boolean"!==typeof t&&"boolean"!==typeof s?u.button.badge.container.pad:void 0,width:{min:y}},r)}else r=n.createElement(a.x,{ref:l},s);return n.createElement(w,{ref:c,anchor:"top-right"},o,r)},P=function(e){var t=e.hasIcon&&!e.hasLabel,r=e.sizeProp;return!t&&r&&e.theme.button.size&&e.theme.button.size[r]?e.theme.button.size[r].border.radius:e.theme.button.border.radius},I=function(e){return(0,i.css)(["border:"," solid ",";border-radius:",";color:",";padding:",";",""],e.theme.button.border.width,(0,u.ut)(e.colorValue||e.theme.button.border.color||"control",e.theme),P(e),(0,u.ut)(e.theme.button.color||"text",e.theme),function(e){var t=e.sizeProp;return t&&e.theme.button.size&&e.theme.button.size[t]?(0,i.css)([""," ",""],e.theme.button.size[t].pad.vertical,e.theme.button.size[t].pad.horizontal):(0,i.css)([""," ",""],e.theme.button.padding.vertical,e.theme.button.padding.horizontal)}(e),function(e){var t=e.sizeProp||"medium",r=e.theme.text[t];return(0,i.css)(["font-size:",";line-height:",";"],r.size,r.height)}(e))};var O=(0,i.css)(["&:hover{"," ",";}"],(function(e){return e.hoverIndicator&&(0,s.AM)(e.hoverIndicator,e.theme)}),(function(e){return!e.plain&&(0,i.css)(["box-shadow:0px 0px 0px 2px ",";"],function(e){return e.colorValue?(0,u.ut)(e.colorValue,e.theme):e.active&&e.primary&&e.theme.button.primary&&e.theme.button.primary.active&&e.theme.button.primary.active.border&&e.theme.button.primary.active.border.color?(0,u.ut)(e.theme.button.primary.active.border.color,e.theme):(0,u.ut)(e.theme.button.border.color||"control",e.theme)}(e))})),T=i.default.button.withConfig({displayName:"StyledButton",componentId:"sc-323bzc-0"})(["display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;"," "," "," "," "," "," "," &:focus{","}&:focus:not(:focus-visible){","}"," "," "," "," ",""],h.$G,(function(e){return e.plain&&function(e){return(0,i.css)(["color:",";outline:none;border:none;padding:0;text-align:inherit;"],(0,u.ut)(e.colorValue||"inherit",e.theme))}(e)}),(function(e){return!e.plain&&I(e)}),(function(e){return e.primary&&function(e){return(0,i.css)([""," border-radius:",";",""],(0,s.Nu)((0,u.ut)(e.colorValue||e.theme.button.primary&&e.theme.button.primary.color||"control",e.theme),e.theme,e.theme.button.color),P(e),e.theme.button.primary&&e.theme.button.primary.extend)}(e)}),(function(e){return!e.disabled&&!e.selected&&!e.focus&&O}),(function(e){return!e.disabled&&e.active&&function(e){return(0,i.css)([""," "," ",""],s.Ii,e.primary&&e.theme.button.primary&&e.theme.button.primary.active&&e.theme.button.primary.active.border&&e.theme.button.primary.active.border.color&&"border: "+e.theme.button.border.width+" solid\n    "+(0,u.ut)(e.theme.button.primary.active.border.color,e.theme)+";\n    ",e.primary&&e.theme.button.primary&&e.theme.button.primary.active&&e.theme.button.primary.active.extend)}(e)}),(function(e){return e.disabled&&e.theme.button&&e.theme.button.disabled&&function(e){return(0,i.css)([""," "," "," ",""],(0,h.Cv)(e.theme.button.disabled.opacity),!e.plain&&e.theme.button.disabled.border&&e.theme.button.disabled.border.color&&"border: "+e.theme.button.border.width+" solid\n    "+(0,u.ut)(e.theme.button.disabled.border.color,e.theme)+";",e.theme.button.disabled.color&&(e.primary?(0,s.Nu)((0,u.ut)(e.theme.button.disabled.color,e.theme),e.theme,e.theme.button.color):"color: "+(0,u.ut)(e.theme.button.disabled.color,e.theme)+";"),e.theme.button.disabled&&e.theme.button.disabled.extend)}(e)}),(function(e){return(!e.plain||e.focusIndicator)&&(0,h.jq)()}),(0,h.GA)(),(function(e){return!e.plain&&e.theme.button.transition&&"\n    transition-property: "+e.theme.button.transition.properties.join(",")+";\n    transition-duration: "+e.theme.button.transition.duration+"s;\n    transition-timing-function: "+e.theme.button.transition.timing+";\n  "}),(function(e){return e.fillContainer&&("horizontal"===(t=e.fillContainer)?"width: 100%;":"vertical"===t?"height: 100%;":t?"\n      width: 100%;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n    ":void 0);var t}),(function(e){return e.hasIcon&&!e.hasLabel&&"\n    line-height: 0;\n  "}),(function(e){return e.pad&&e.hasIcon&&!e.hasLabel&&"\n    padding: "+e.theme.global.edgeSize.small+";\n  "}),(function(e){return e.theme.button&&e.theme.button.extend}));T.defaultProps={},Object.setPrototypeOf(T.defaultProps,o.l);var Q=function(e,t,r){return void 0===e&&(e="medium"),e&&r.size&&r.size[e]&&r.size[e].pad?{vertical:r.size[e].pad.vertical,horizontal:r.size[e].pad.horizontal}:t.button.padding?{vertical:t.global.edgeSize[t.button.padding.vertical]||t.button.padding.vertical,horizontal:t.global.edgeSize[t.button.padding.horizontal]||t.button.padding.horizontal}:void 0},C=function(e){return(0,i.css)(["border:none;",";"," "," ",""],function(e){var t=e.sizeProp,r="object"===typeof e.kind?e.kind:e.theme.button;return t&&r.size&&r.size[t]?(0,i.css)(["border-radius:",";"],r.size[t].border.radius):r.border&&r.border.radius?(0,i.css)(["border-radius:",";"],r.border.radius):""}(e),function(e){var t=e.sizeProp,r=e.theme,n=e.kind,o="object"===typeof n?n:r.button,a=Q(t,r,o);return a?(0,i.css)(["padding:"," ",";"],a.vertical,a.horizontal):""}(e),function(e){var t=e.sizeProp||"medium",r=e.theme.text[t];return(0,i.css)(["font-size:",";line-height:",";"],r.size,r.height)}(e),e.icon&&"\n    > svg {\n      display: flex;\n      align-self: center;\n      vertical-align: middle;\n    }\n  ")},L=function(e,t){var r;if(t){r=e;for(var n=t.split(".");r&&n.length;)r=r[n.shift()]}return r},j=function(e,t){var r=(0,d.gd)(t);return(0,i.css)(["padding:","px ","px;"],Math.max((0,d.gd)(e.vertical)-r,0),Math.max((0,d.gd)(e.horizontal)-r,0))},R=i.default.button.withConfig({shouldForwardProp:function(e,t){return!["kind"].includes(e)&&t(e)}}).withConfig({displayName:"StyledButtonKind",componentId:"sc-1vhfpnt-0"})(["display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;"," "," "," "," "," "," "," "," &:focus{","}&:focus:not(:focus-visible){","}"," "," ",""],h.$G,(function(e){return e.plain&&function(e){return(0,i.css)(["outline:none;border:none;padding:0;text-align:inherit;color:inherit;",""],e.icon&&"\n    > svg {\n      display: flex;\n      align-self: center;\n      vertical-align: middle;\n    }\n  ")}(e)}),(function(e){return!e.disabled&&e.active&&s.Ii}),(function(e){return!e.plain&&C(e)}),(function(e){return!e.plain&&function(e){var t=e.colorValue,r=e.kind,n=e.sizeProp,o=e.themePaths,a=e.theme,s=[],u="object"===typeof r?r:a.button,l=Q(n,a,u);if(o.base.forEach((function(e){var r=L(u,e);r&&(s.push((0,h.mJ)(r,a,t)),r.border&&r.border.width&&l&&!r.padding&&s.push(j(l,r.border.width)))})),!o.base.length&&"object"===typeof r){var c=r;c&&(s.push((0,h.mJ)(c,a,t)),c.border&&c.border.width&&l&&!c.padding&&s.push(j(l,c.border.width)))}return o.hover.forEach((function(e){var t=L(u,e);if(t){var r=(0,h.mJ)(t,a),n="";t.border&&t.border.width&&l&&!t.padding&&(n=j(l,t.border.width)),r.length>0&&s.push((0,i.css)(["&:hover{"," ","}"],r,n))}})),s}(e)}),(function(e){return!e.plain&&e.align&&"\n    text-align: "+e.align+";\n    "}),(function(e){return!e.disabled&&e.hoverIndicator&&function(e){var t=e.hoverIndicator,r=e.theme,n={};!0===t||"background"===t?n.background=r.global.hover.background:t.color||t.background?(t.background&&(n.background=t.background),t.color&&(n.color=t.color)):n.background=t;var o=(0,h.mJ)(n,r);return o.length>0?(0,i.css)(["&:hover{","}"],o):""}(e)}),(function(e){return e.disabled&&(0,h.Cv)(e.theme.button.disabled.opacity)}),(function(e){return(!e.plain||e.focusIndicator)&&(0,h.jq)()}),(0,h.GA)(),(function(e){return!e.plain&&e.theme.button.transition&&"\n    transition-property: "+e.theme.button.transition.properties.join(",")+";\n    transition-duration: "+e.theme.button.transition.duration+"s;\n    transition-timing-function: "+e.theme.button.transition.timing+";\n  "}),(function(e){return e.fillContainer&&("horizontal"===(t=e.fillContainer)?"width: 100%;":"vertical"===t?"height: 100%;":t?"\n      width: 100%;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n    ":void 0);var t}),(function(e){return e.theme.button&&e.theme.button.extend}));R.defaultProps={},Object.setPrototypeOf(R.defaultProps,o.l);var z=["active","align","aria-label","badge","color","children","disabled","icon","focusIndicator","gap","fill","href","justify","kind","label","onBlur","onClick","onFocus","onMouseOut","onMouseOver","plain","primary","reverse","secondary","selected","size","tip","type","a11yTitle","as"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}var F=function(e,t,r,n){void 0===e&&(e=[]);var i=[],o=e.length-1;for("object"===typeof n&&(o=0);o>=0&&!i[1];){var a="object"===typeof n&&n||t.button;if(e[o])for(var u=e[o].split(".");a&&u.length;)a=a[u.shift()];if(a){var l=r&&a.background&&a.background.color?r:a.background,c=a.color||(!Object.prototype.hasOwnProperty.call(a,"color")||void 0!==a.color)&&void 0,d=!r||a.background&&a.background.color||a.border&&a.border.color?c:r;i=(0,s.Ap)(l,d,t)}o-=1}return i[1]||void 0},_=function(e,t,r,n,i){var o;if(void 0===t&&(t=[]),n){var a="object"===typeof n&&n||r.button;if(t[0])for(var s=t[0].split(".");a&&s.length;)a=a[s.shift()];a&&(o=a[e]||a[e]&&a[e].color)}else o=i&&r&&r.button&&r.button.primary?r.button.primary[e]||r.button.primary[e]&&r.button.primary[e].color:r&&r.button&&r.button[e]||r&&r.button&&r.button[e]&&r.button[e].color;return o},M=(0,n.forwardRef)((function(e,t){var r=e.active,l=e.align,d=void 0===l?"center":l,f=e["aria-label"],h=e.badge,p=e.color,m=e.children,v=e.disabled,g=e.icon,y=e.focusIndicator,b=void 0===y||y,x=e.gap,w=e.fill,k=e.href,E=e.justify,P=e.kind,I=e.label,O=e.onBlur,Q=e.onClick,C=e.onFocus,L=e.onMouseOut,j=e.onMouseOver,M=e.plain,B=e.primary,D=e.reverse,A=e.secondary,V=e.selected,$=e.size,q=e.tip,W=e.type,H=void 0===W?"button":W,G=e.a11yTitle,J=void 0===G?"string"===typeof q?q:void 0:G,U=e.as,K=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,z),Y=(0,n.useContext)(i.ThemeContext)||o.l.theme,X=(0,n.useState)(),Z=X[0],ee=X[1],te=(0,n.useState)(!1),re=te[0],ne=te[1];(g||I)&&m&&console.warn("Button should not have children if icon or label is provided");var ie=(0,n.useMemo)((function(){return"object"===typeof P}),[P]),oe=(0,n.useMemo)((function(){if(Y.button.default||ie)return P||(B?"primary":A?"secondary":"default")}),[P,ie,B,A,Y]),ae=(0,n.useMemo)((function(){if(oe&&!M){var e={base:[],hover:[]};return ie||e.base.push(oe),V&&(e.base.push("selected"),ie||e.base.push("selected."+oe)),v?(e.base.push("disabled"),ie||e.base.push("disabled."+oe)):(r&&(e.base.push("active"),ie||e.base.push("active."+oe)),e.hover.push("hover"),ie||e.hover.push("hover."+oe),r&&(e.hover.push("hover.active"),ie||e.hover.push("hover.active."+oe))),e}}),[r,v,oe,ie,M,V]),se=function(e){ne(!0),j&&j(e)},ue=function(e){ne(!1),L&&L(e)},le=g;if(g&&!g.props.color)if(oe){if(!M){var ce=re&&F(ae.hover,Y)||F(ae.base,Y,p,oe);ce&&(le=(0,n.cloneElement)(g,{color:ce}))}}else B&&(le=(0,n.cloneElement)(g,{color:Y.global.colors.text[function(){var e=(0,s.rj)((0,u.ut)(p||Y.button.primary&&Y.button.primary.color||Y.global.colors.control||"brand",Y),Y);return(0,u.Pi)(e,Y)}()?"dark":"light"]}));var de,fe=!U&&k?"a":U,he=D?I:le,pe=D?le:I;de=he&&pe?n.createElement(a.x,{direction:"row",align:"center",justify:E||("center"===d?"center":"between"),gap:x||Y.button.gap,responsive:!1},he,pe):"function"===typeof m?m({disabled:v,hover:re,focus:Z}):he||pe||m;var me,ve=_("background",ae&&ae.base,Y,oe,B),ge=_("border",ae&&ae.base,Y,oe,B),ye=!ve&&!ge||!oe&&g&&!I;return h&&ye&&(de=n.createElement(S,{content:h},de)),me=oe?n.createElement(R,N({},K,{as:fe,ref:t,active:r,align:d,"aria-label":f||J,badge:h,colorValue:p,disabled:v,hasIcon:!!g,gap:x,hasLabel:!!I,icon:g,fillContainer:w,focus:Z,focusIndicator:b,href:k,kind:oe,themePaths:ae,onClick:Q,onFocus:function(e){ee(!0),C&&C(e)},onBlur:function(e){ee(!1),O&&O(e)},onMouseOver:se,onMouseOut:ue,plain:M||n.Children.count(m)>0,primary:B,sizeProp:$,type:k?void 0:H}),de):n.createElement(T,N({},K,{as:fe,ref:t,"aria-label":f||J,colorValue:p,active:r,selected:V,disabled:v,hasIcon:!!g,gap:x,hasLabel:!!I,fillContainer:w,focus:Z,focusIndicator:b,href:k,kind:oe,themePaths:ae,onClick:Q,onFocus:function(e){ee(!0),C&&C(e)},onBlur:function(e){ee(!1),O&&O(e)},onMouseOver:se,onMouseOut:ue,pad:!M,plain:"undefined"!==typeof M?M:n.Children.count(m)>0||g&&!I,primary:B,sizeProp:$,type:k?void 0:H}),de),q&&(me="string"===typeof q?n.createElement(c.C,{content:q},me):n.createElement(c.C,q,me)),h&&!ye&&(me=n.createElement(S,{content:h},me)),me}));M.displayName="Button",M.propTypes=l;var B=r(3176),D=r(1205);var A=function(e,t){return e?Math.floor((e+t)/t)-1:0},V=function(e){var t=e.children,r=e.items,i=void 0===r?[]:r,o=e.onMore,s=e.renderMarker,u=e.replace,l=e.show,c=e.step,d=void 0===c?50:c,h=(0,n.useState)(),p=h[0],m=h[1],v=(0,n.useMemo)((function(){return Math.max(0,Math.ceil(i.length/d)-1)}),[i.length,d]),g=(0,n.useState)([0,A(l,d)]),y=g[0],b=g[1],x=(0,n.useState)([]),w=x[0],k=x[1],E=(0,n.useState)(0),S=E[0],P=E[1],I=(0,n.useRef)(),O=(0,n.useRef)();(0,n.useEffect)((function(){var e,t,r=function(){if(e){var t,r,n=e[0];if(n===document)t=document.documentElement.scrollTop||document.body.scrollTop,r=window.innerHeight;else t=n.scrollTop,r=n.getBoundingClientRect().height;for(var i=r/4,o=0,a=0,s=w[a]||0;w[a+1]&&s<t-i;)o+=1,s+=w[a+=1];for(var c=o;void 0!==w[a]&&s<t+r+i;)c+=1,s+=w[a+=1]||0;if(u||(o=0,c=Math.max(y[1],c)),l){var f=A(l,d);o=Math.min(f,o),c=Math.max(f,c)}o===y[0]&&c===y[1]||b([o,c])}},n=function(){clearTimeout(t),t=setTimeout(r,10)};return O.current&&(e=(0,D.sq)(O.current)).forEach((function(e){return e.addEventListener("scroll",n)})),window.addEventListener("resize",n),r(),function(){e&&e.forEach((function(e){return e.removeEventListener("scroll",n)})),window.removeEventListener("resize",n),clearTimeout(t)}}),[w,y,u,l,d]),(0,n.useEffect)((function(){o&&y[1]===v&&i.length>=S&&i.length>0&&(P(i.length+1),o())}),[i.length,v,o,S,y,d]),(0,n.useEffect)((function(){0===i.length&&0===v&&0!==S&&(k([]),P(0),b([0,A(l,d)]))}),[v,S,l,d,i.length]),(0,f.b)((function(){var e=setTimeout((function(){if(l&&O.current&&l!==p){var e=l-y[0]*d+(y[0]?1:0),t=O.current.parentNode.children.item(e);if(t){var r=(0,D.xD)(t);(0,D.rc)(t,r)?t.scrollIntoView(!0):(0,D._8)(t,r)&&t.scrollIntoView(!1),m(l)}}}),100);return function(){return clearTimeout(e)}}),[y,l,d]),(0,f.b)((function(){if(O.current){var e=O.current.parentNode.children;if((I.current?1:0)+(y[1]-y[0]+1)*d+1===e.length){for(var t,r,n=y[0];n<=y[1];){var i=(I.current?1:0)+(n-y[0])*d,o=Math.min(i+d-1,e.length-1),a=void 0!==r?r:e.item(i).getBoundingClientRect().top,s=e.item(o).getBoundingClientRect().bottom,l=s-a;!s||w&&w[n]===l||(t||(t=[].concat(w||[])),t[n]=l),r=s,n+=1}for(;u&&n<=v;){if(!w[n]&&w[n]!==w[0]){t||(t=[].concat(w||[]));var c=t;t[n]=c[0]}n+=1}t&&k(t)}}}),[v,w,y,u,d]);var T=(0,n.useMemo)((function(){if(!u)return 0;for(var e=0,t=0;t<y[0];)e+=w[t]||0,t+=1;return e}),[w,y,u]),Q=(0,n.useMemo)((function(){if(!u)return 0;for(var e=0,t=y[1]+1;t<=v;)e+=w[t]||0,t+=1;return e}),[v,w,y,u]),C=y[0]*d,L=Math.min((y[1]+1)*d,i.length)-1,j=[];if(T){var R=n.createElement(a.x,{key:"above",ref:I,flex:!1,height:T+"px"});s&&(R=n.cloneElement(s(R),{key:"above"})),j.push(R)}if(i.slice(C,L+1).forEach((function(e,r){var n=t(e,C+r);j.push(n)})),u||y[1]<v||o){var z=n.createElement(a.x,{key:"below",ref:!s&&O||void 0,flex:!1,height:(Q||0)+"px"});if(s){var N=s(z);z=n.cloneElement(N,{key:"below",ref:function(e){O.current=e;var t=N.ref;"function"===typeof t?t(e):null!==t&&(t.current=e)}})}j.push(z)}return j};V.propTypes={};var $=r(9170),q=n.createContext({useFormField:function(e){return{error:e.error,info:e.info,disabled:e.disabled}},useFormInput:function(e){var t=e.value,r=e.initialValue,i=(0,n.useState)(void 0!==t?t:r),o=i[0],a=i[1];return[void 0!==t?t:o,function(e){void 0!==r&&a(e)}]}});var W={},H=n.createContext((function(e,t,r){void 0===t&&(t="polite"),void 0===r&&(r=500);var n=document.body.querySelector("#grommet-announcer[aria-live]")||function(){var e=document.createElement("div");return e.id="grommet-announcer",e.style.left="-100%",e.style.right="100%",e.style.position="fixed",e.style["z-index"]="-1",document.body.insertBefore(e,document.body.firstChild),e}();n.setAttribute("aria-live","off"),n.innerHTML=e,n.setAttribute("aria-live",t),setTimeout((function(){n.innerHTML=""}),r)}));H.propTypes=W;var G=r(7187),J=i.default.input.withConfig({displayName:"StyledTextInput",componentId:"sc-1x30a0s-0"})([""," "," "," "," "," ",";"],h.hG,(function(e){return"full"===(t=e.plain)?(0,i.css)([""," padding:0;"],h.Zt):t&&h.Zt;var t}),(function(e){return e.icon&&(e.reverse?"padding-right: "+e.theme.global.edgeSize.large+";":"padding-left: "+e.theme.global.edgeSize.large+";")}),(function(e){return e.disabled&&(0,h.Cv)(e.theme.textInput.disabled&&e.theme.textInput.disabled.opacity)}),(function(e){return e.textAlign&&h.jt}),(function(e){return e.theme.textInput&&e.theme.textInput.extend}));J.defaultProps={},Object.setPrototypeOf(J.defaultProps,o.l);var U=i.default.div.withConfig({displayName:"StyledTextInput__StyledTextInputContainer",componentId:"sc-1x30a0s-1"})(["position:relative;width:100%;",";"],(function(e){return e.theme.textInput&&e.theme.textInput.container&&e.theme.textInput.container.extend}));U.defaultProps={},Object.setPrototypeOf(U.defaultProps,o.l);var K=i.default.div.withConfig({displayName:"StyledTextInput__StyledPlaceholder",componentId:"sc-1x30a0s-2"})(["position:absolute;left:","px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;",";"],(function(e){return(0,d.gd)((0,h.dy)(e,"left"))-(0,d.gd)(e.theme.global.control.border.width)}),(function(e){return e.theme.textInput&&e.theme.textInput.placeholder&&e.theme.textInput.placeholder.extend}));K.defaultProps={},Object.setPrototypeOf(K.defaultProps,o.l);var Y=i.default.div.withConfig({displayName:"StyledTextInput__StyledIcon",componentId:"sc-1x30a0s-3"})(["position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;",""],(function(e){return e.reverse?"right: "+(0,h.dy)(e,"right")+";":"left: "+(0,h.dy)(e,"left")+";"})),X=i.default.ol.withConfig({displayName:"StyledTextInput__StyledSuggestions",componentId:"sc-1x30a0s-4"})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;",";"],(function(e){return e.theme.textInput&&e.theme.textInput.suggestions&&e.theme.textInput.suggestions.extend}));X.defaultProps={},Object.setPrototypeOf(X.defaultProps,o.l);var Z=r(7598);var ee={},te=["a11yTitle","defaultSuggestion","defaultValue","dropAlign","dropHeight","dropTarget","dropProps","focusIndicator","icon","id","messages","name","onBlur","onChange","onFocus","onKeyDown","onSelect","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","placeholder","plain","readOnly","reverse","suggestions","textAlign","value"];function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}var ne=function(e){return e&&"object"===typeof e?e.label||e.value:e},ie=function(e){return e&&"object"===typeof e?e.label&&"string"===typeof e.label?e.label:e.value:e},oe=(0,i.default)(a.x).withConfig({displayName:"TextInput__ContainerBox",componentId:"sc-1ai0c08-0"})(["",";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"],(function(e){return e.dropHeight?(0,h.Tq)("max-height",e.dropHeight,e.theme):"max-height: inherit;"})),ae={top:"bottom",left:"left"},se=(0,n.forwardRef)((function(e,t){var r,s=e.a11yTitle,u=e.defaultSuggestion,l=e.defaultValue,c=e.dropAlign,d=void 0===c?ae:c,f=e.dropHeight,h=e.dropTarget,p=e.dropProps,m=e.focusIndicator,v=void 0===m||m,g=e.icon,y=e.id,b=e.messages,x=e.name,w=e.onBlur,k=e.onChange,E=e.onFocus,S=e.onKeyDown,P=e.onSelect,I=e.onSuggestionSelect,O=e.onSuggestionsClose,T=e.onSuggestionsOpen,Q=e.placeholder,C=e.plain,L=e.readOnly,j=e.reverse,R=e.suggestions,z=e.textAlign,N=e.value,F=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,te),_=(0,n.useContext)(i.ThemeContext)||o.l.theme,A=(0,n.useContext)(Z.E).format,W=(0,n.useContext)(H),ee=(0,n.useContext)(q),se=(0,G.t)(t),ue=(0,n.useRef)(),le=(0,n.useRef)(),ce=ee.useFormInput({name:L?void 0:x,value:N}),de=ce[0],fe=ce[1],he=(0,n.useState)(),pe=he[0],me=he[1],ve=(0,n.useState)(!1),ge=ve[0],ye=ve[1],be=(0,n.useMemo)((function(){return P&&!I?P:I}),[P,I]),xe=(0,n.useMemo)((function(){return P&&I?P:void 0}),[P,I]),we=(0,n.useState)(),ke=we[0],Ee=we[1],Se=(0,n.useCallback)((function(){ye(!0),W(A({id:"textInput.suggestionIsOpen",messages:b})),W(R.length+" "+A({id:"textInput.suggestionsCount",messages:b})),T&&T()}),[W,b,A,T,R]),Pe=(0,n.useCallback)((function(){Ee(R),ye(!1),O&&O()}),[O,R]),Ie=(0,n.useCallback)((function(e){e.target!==se.current&&Pe()}),[se,Pe]);(0,n.useEffect)((function(){!pe||ge||!R||!R.length||ke&&ke.length===R.length||Se()}),[pe,Se,ge,R,ke]),(0,n.useEffect)((function(){!ge||R&&R.length||Pe()}),[Pe,ge,R]);var Oe=(0,n.useMemo)((function(){return R?R.map((function(e){return"object"===typeof e?e.value:e})).indexOf(de):-1}),[R,de]),Te=(0,n.useMemo)((function(){return-1===Oe&&"number"===typeof u?u:Oe}),[u,Oe]),Qe=(0,n.useState)(Te),Ce=Qe[0],Le=Qe[1],je=(0,n.useState)(),Re=je[0],ze=je[1];(0,n.useEffect)((function(){return Le(Oe)}),[Oe]),(0,n.useEffect)((function(){ge||Le(Te)}),[Te,ge]),(0,n.useEffect)((function(){if(Ce>=0){var e=ie(R[Ce]);W(e+" "+A({id:"textInput.enterSelect",messages:b}))}}),[Ce,W,b,A,R]),(0,n.useEffect)((function(){var e=setTimeout((function(){var e=le.current;if(ge&&-1!==Ce&&e){var t=e.parentNode,r=e.children[Ce];t.scrollTo&&((0,D._8)(r,t)?t.scrollTo(0,r.offsetTop-(t.getBoundingClientRect().height-r.getBoundingClientRect().height)):(0,D.rc)(r,t)&&t.scrollTo(0,r.offsetTop))}}),50);return function(){return clearTimeout(e)}}),[Ce,ge]);var Ne,Fe=function(e,t){if(se.current.focus(),se.current.value=t,Pe(),be){e.persist&&e.persist();var r=e;r.suggestion=t,be(r)}fe(t)},_e=(0,n.useCallback)((function(e){e.preventDefault();var t=Math.min(Ce+1,R.length-1);Le(t),ze(!1)}),[Ce,R]),Me=(0,n.useCallback)((function(e){e.preventDefault();var t=Math.max(Ce-1,0);Le(t),ze(!1)}),[Ce]),Be=de||(null==(r=se.current)?void 0:r.value),De=(0,n.useMemo)((function(){return Q&&"string"!==typeof Q&&!Be}),[Be,Q]),Ae={onSelect:xe};ge&&(Ne=n.createElement(B.U,re({ref:ue,id:y?"text-input-drop__"+y:void 0,align:d,responsive:!1,target:h||se.current,onClickOutside:Ie,onEsc:Pe},p),n.createElement(oe,{overflow:"auto",dropHeight:f,onMouseMove:function(){return ze(!0)}},n.createElement(X,{ref:le},n.createElement(V,{items:R,step:_.select.step,show:-1!==Ce?Ce:void 0},(function(e,t,r){var i,o=ne(e);return"string"!==typeof o?i=o:_.button.option||(i=n.createElement(a.x,{align:"start",pad:"small"},o)),n.createElement("li",{key:ie(e)+"-"+t,ref:r},n.createElement(M,{active:Ce===t,fill:"horizontal",plain:!!i||void 0,align:"start",kind:i?void 0:"option",label:i?void 0:o,onClick:function(t){return Fe(t,e)},onMouseMove:Re&&Ce!==t?function(){return Le(t)}:void 0},i))}))))));var Ve={onKeyDown:S};return ge?(Ve.onEnter=function(e){e.preventDefault(),Ce>=0?Fe(e,R[Ce]):Pe()},Ce>0&&(Ve.onUp=Me),Ce<R.length-1&&(Ve.onDown=_e),Ve.onTab=Pe):R&&R.length>0&&(Ve.onDown=Se),n.createElement(U,{plain:C},De&&n.createElement(K,null,Q),g&&n.createElement(Y,{reverse:j,theme:_},g),n.createElement($.N,re({target:pe?"document":void 0},Ve),n.createElement(J,re({"aria-label":s,ref:se,id:y,name:x,autoComplete:"off",plain:C,placeholder:"string"===typeof Q?Q:void 0,icon:g,reverse:j,focus:pe,focusIndicator:v,textAlign:z},F,Ae,{defaultValue:ne(l),value:ne(de),readOnly:L,onFocus:function(e){pe||(me(!0),R&&R.length>0&&(W(A({id:"textInput.suggestionsExist",messages:b})),Se()),E&&E(e))},onBlur:function(e){e.relatedTarget&&e.relatedTarget===ue.current||(me(!1),w&&w(e))},onChange:L?void 0:function(e){R&&pe&&!ge&&Se(),fe(e.target.value),Le(Te),k&&k(e)}}))),Ne)}));se.displayName="TextInput",se.propTypes=ee},1336:function(e,t,r){var n,i;!function(){var o,a=function(e){var t=new a.Builder;return t.pipeline.add(a.trimmer,a.stopWordFilter,a.stemmer),t.searchPipeline.add(a.stemmer),e.call(t,t),t.build()};a.version="2.3.9",a.utils={},a.utils.warn=(o=this,function(e){o.console&&console.warn&&console.warn(e)}),a.utils.asString=function(e){return void 0===e||null===e?"":e.toString()},a.utils.clone=function(e){if(null===e||void 0===e)return e;for(var t=Object.create(null),r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],o=e[i];if(Array.isArray(o))t[i]=o.slice();else{if("string"!==typeof o&&"number"!==typeof o&&"boolean"!==typeof o)throw new TypeError("clone is not deep and does not support nested objects");t[i]=o}}return t},a.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},a.FieldRef.joiner="/",a.FieldRef.fromString=function(e){var t=e.indexOf(a.FieldRef.joiner);if(-1===t)throw"malformed field ref string";var r=e.slice(0,t),n=e.slice(t+1);return new a.FieldRef(n,r,e)},a.FieldRef.prototype.toString=function(){return void 0==this._stringValue&&(this._stringValue=this.fieldName+a.FieldRef.joiner+this.docRef),this._stringValue},a.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},a.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},a.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},a.Set.prototype.contains=function(e){return!!this.elements[e]},a.Set.prototype.intersect=function(e){var t,r,n,i=[];if(e===a.Set.complete)return this;if(e===a.Set.empty)return e;this.length<e.length?(t=this,r=e):(t=e,r=this),n=Object.keys(t.elements);for(var o=0;o<n.length;o++){var s=n[o];s in r.elements&&i.push(s)}return new a.Set(i)},a.Set.prototype.union=function(e){return e===a.Set.complete?a.Set.complete:e===a.Set.empty?this:new a.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},a.idf=function(e,t){var r=0;for(var n in e)"_index"!=n&&(r+=Object.keys(e[n]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},a.Token=function(e,t){this.str=e||"",this.metadata=t||{}},a.Token.prototype.toString=function(){return this.str},a.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},a.Token.prototype.clone=function(e){return e=e||function(e){return e},new a.Token(e(this.str,this.metadata),this.metadata)},a.tokenizer=function(e,t){if(null==e||void 0==e)return[];if(Array.isArray(e))return e.map((function(e){return new a.Token(a.utils.asString(e).toLowerCase(),a.utils.clone(t))}));for(var r=e.toString().toLowerCase(),n=r.length,i=[],o=0,s=0;o<=n;o++){var u=o-s;if(r.charAt(o).match(a.tokenizer.separator)||o==n){if(u>0){var l=a.utils.clone(t)||{};l.position=[s,u],l.index=i.length,i.push(new a.Token(r.slice(s,o),l))}s=o+1}}return i},a.tokenizer.separator=/[\s\-]+/,a.Pipeline=function(){this._stack=[]},a.Pipeline.registeredFunctions=Object.create(null),a.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&a.utils.warn("Overwriting existing registered function: "+t),e.label=t,a.Pipeline.registeredFunctions[e.label]=e},a.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||a.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},a.Pipeline.load=function(e){var t=new a.Pipeline;return e.forEach((function(e){var r=a.Pipeline.registeredFunctions[e];if(!r)throw new Error("Cannot load unregistered function: "+e);t.add(r)})),t},a.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach((function(e){a.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)}),this)},a.Pipeline.prototype.after=function(e,t){a.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,t)},a.Pipeline.prototype.before=function(e,t){a.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");this._stack.splice(r,0,t)},a.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},a.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var n=this._stack[r],i=[],o=0;o<e.length;o++){var a=n(e[o],o,e);if(null!==a&&void 0!==a&&""!==a)if(Array.isArray(a))for(var s=0;s<a.length;s++)i.push(a[s]);else i.push(a)}e=i}return e},a.Pipeline.prototype.runString=function(e,t){var r=new a.Token(e,t);return this.run([r]).map((function(e){return e.toString()}))},a.Pipeline.prototype.reset=function(){this._stack=[]},a.Pipeline.prototype.toJSON=function(){return this._stack.map((function(e){return a.Pipeline.warnIfFunctionNotRegistered(e),e.label}))},a.Vector=function(e){this._magnitude=0,this.elements=e||[]},a.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,n=r-t,i=Math.floor(n/2),o=this.elements[2*i];n>1&&(o<e&&(t=i),o>e&&(r=i),o!=e);)n=r-t,i=t+Math.floor(n/2),o=this.elements[2*i];return o==e||o>e?2*i:o<e?2*(i+1):void 0},a.Vector.prototype.insert=function(e,t){this.upsert(e,t,(function(){throw"duplicate index"}))},a.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var n=this.positionForIndex(e);this.elements[n]==e?this.elements[n+1]=r(this.elements[n+1],t):this.elements.splice(n,0,e,t)},a.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var n=this.elements[r];e+=n*n}return this._magnitude=Math.sqrt(e)},a.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,n=e.elements,i=r.length,o=n.length,a=0,s=0,u=0,l=0;u<i&&l<o;)(a=r[u])<(s=n[l])?u+=2:a>s?l+=2:a==s&&(t+=r[u+1]*n[l+1],u+=2,l+=2);return t},a.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},a.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},a.Vector.prototype.toJSON=function(){return this.elements},a.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[aeiouy]",n="[^aeiou][^aeiouy]*",i=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),o=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),a=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),u=/^(.+?)(ss|i)es$/,l=/^(.+?)([^s])s$/,c=/^(.+?)eed$/,d=/^(.+?)(ed|ing)$/,f=/.$/,h=/(at|bl|iz)$/,p=new RegExp("([^aeiouylsz])\\1$"),m=new RegExp("^"+n+r+"[^aeiouwxy]$"),v=/^(.+?[^aeiou])y$/,g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,y=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,b=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,x=/^(.+?)(s|t)(ion)$/,w=/^(.+?)e$/,k=/ll$/,E=new RegExp("^"+n+r+"[^aeiouwxy]$"),S=function(r){var n,S,P,I,O,T,Q;if(r.length<3)return r;if("y"==(P=r.substr(0,1))&&(r=P.toUpperCase()+r.substr(1)),O=l,(I=u).test(r)?r=r.replace(I,"$1$2"):O.test(r)&&(r=r.replace(O,"$1$2")),O=d,(I=c).test(r)){var C=I.exec(r);(I=i).test(C[1])&&(I=f,r=r.replace(I,""))}else if(O.test(r)){n=(C=O.exec(r))[1],(O=s).test(n)&&(T=p,Q=m,(O=h).test(r=n)?r+="e":T.test(r)?(I=f,r=r.replace(I,"")):Q.test(r)&&(r+="e"))}(I=v).test(r)&&(r=(n=(C=I.exec(r))[1])+"i");(I=g).test(r)&&(n=(C=I.exec(r))[1],S=C[2],(I=i).test(n)&&(r=n+e[S]));(I=y).test(r)&&(n=(C=I.exec(r))[1],S=C[2],(I=i).test(n)&&(r=n+t[S]));if(O=x,(I=b).test(r))n=(C=I.exec(r))[1],(I=o).test(n)&&(r=n);else if(O.test(r)){n=(C=O.exec(r))[1]+C[2],(O=o).test(n)&&(r=n)}(I=w).test(r)&&(n=(C=I.exec(r))[1],O=a,T=E,((I=o).test(n)||O.test(n)&&!T.test(n))&&(r=n));return O=o,(I=k).test(r)&&O.test(r)&&(I=f,r=r.replace(I,"")),"y"==P&&(r=P.toLowerCase()+r.substr(1)),r};return function(e){return e.update(S)}}(),a.Pipeline.registerFunction(a.stemmer,"stemmer"),a.generateStopWordFilter=function(e){var t=e.reduce((function(e,t){return e[t]=t,e}),{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},a.stopWordFilter=a.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),a.Pipeline.registerFunction(a.stopWordFilter,"stopWordFilter"),a.trimmer=function(e){return e.update((function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")}))},a.Pipeline.registerFunction(a.trimmer,"trimmer"),a.TokenSet=function(){this.final=!1,this.edges={},this.id=a.TokenSet._nextId,a.TokenSet._nextId+=1},a.TokenSet._nextId=1,a.TokenSet.fromArray=function(e){for(var t=new a.TokenSet.Builder,r=0,n=e.length;r<n;r++)t.insert(e[r]);return t.finish(),t.root},a.TokenSet.fromClause=function(e){return"editDistance"in e?a.TokenSet.fromFuzzyString(e.term,e.editDistance):a.TokenSet.fromString(e.term)},a.TokenSet.fromFuzzyString=function(e,t){for(var r=new a.TokenSet,n=[{node:r,editsRemaining:t,str:e}];n.length;){var i=n.pop();if(i.str.length>0){var o,s=i.str.charAt(0);s in i.node.edges?o=i.node.edges[s]:(o=new a.TokenSet,i.node.edges[s]=o),1==i.str.length&&(o.final=!0),n.push({node:o,editsRemaining:i.editsRemaining,str:i.str.slice(1)})}if(0!=i.editsRemaining){if("*"in i.node.edges)var u=i.node.edges["*"];else{u=new a.TokenSet;i.node.edges["*"]=u}if(0==i.str.length&&(u.final=!0),n.push({node:u,editsRemaining:i.editsRemaining-1,str:i.str}),i.str.length>1&&n.push({node:i.node,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)}),1==i.str.length&&(i.node.final=!0),i.str.length>=1){if("*"in i.node.edges)var l=i.node.edges["*"];else{l=new a.TokenSet;i.node.edges["*"]=l}1==i.str.length&&(l.final=!0),n.push({node:l,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)})}if(i.str.length>1){var c,d=i.str.charAt(0),f=i.str.charAt(1);f in i.node.edges?c=i.node.edges[f]:(c=new a.TokenSet,i.node.edges[f]=c),1==i.str.length&&(c.final=!0),n.push({node:c,editsRemaining:i.editsRemaining-1,str:d+i.str.slice(2)})}}}return r},a.TokenSet.fromString=function(e){for(var t=new a.TokenSet,r=t,n=0,i=e.length;n<i;n++){var o=e[n],s=n==i-1;if("*"==o)t.edges[o]=t,t.final=s;else{var u=new a.TokenSet;u.final=s,t.edges[o]=u,t=u}}return r},a.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var r=t.pop(),n=Object.keys(r.node.edges),i=n.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var o=0;o<i;o++){var a=n[o];t.push({prefix:r.prefix.concat(a),node:r.node.edges[a]})}}return e},a.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",t=Object.keys(this.edges).sort(),r=t.length,n=0;n<r;n++){var i=t[n];e=e+i+this.edges[i].id}return e},a.TokenSet.prototype.intersect=function(e){for(var t=new a.TokenSet,r=void 0,n=[{qNode:e,output:t,node:this}];n.length;){r=n.pop();for(var i=Object.keys(r.qNode.edges),o=i.length,s=Object.keys(r.node.edges),u=s.length,l=0;l<o;l++)for(var c=i[l],d=0;d<u;d++){var f=s[d];if(f==c||"*"==c){var h=r.node.edges[f],p=r.qNode.edges[c],m=h.final&&p.final,v=void 0;f in r.output.edges?(v=r.output.edges[f]).final=v.final||m:((v=new a.TokenSet).final=m,r.output.edges[f]=v),n.push({qNode:p,output:v,node:h})}}}return t},a.TokenSet.Builder=function(){this.previousWord="",this.root=new a.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},a.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var n=0;n<e.length&&n<this.previousWord.length&&e[n]==this.previousWord[n];n++)r++;this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(n=r;n<e.length;n++){var i=new a.TokenSet,o=e[n];t.edges[o]=i,this.uncheckedNodes.push({parent:t,char:o,child:i}),t=i}t.final=!0,this.previousWord=e},a.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},a.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],n=r.child.toString();n in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[n]:(r.child._str=n,this.minimizedNodes[n]=r.child),this.uncheckedNodes.pop()}},a.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},a.Index.prototype.search=function(e){return this.query((function(t){new a.QueryParser(e,t).parse()}))},a.Index.prototype.query=function(e){for(var t=new a.Query(this.fields),r=Object.create(null),n=Object.create(null),i=Object.create(null),o=Object.create(null),s=Object.create(null),u=0;u<this.fields.length;u++)n[this.fields[u]]=new a.Vector;e.call(t,t);for(u=0;u<t.clauses.length;u++){var l=t.clauses[u],c=null,d=a.Set.empty;c=l.usePipeline?this.pipeline.runString(l.term,{fields:l.fields}):[l.term];for(var f=0;f<c.length;f++){var h=c[f];l.term=h;var p=a.TokenSet.fromClause(l),m=this.tokenSet.intersect(p).toArray();if(0===m.length&&l.presence===a.Query.presence.REQUIRED){for(var v=0;v<l.fields.length;v++){o[j=l.fields[v]]=a.Set.empty}break}for(var g=0;g<m.length;g++){var y=m[g],b=this.invertedIndex[y],x=b._index;for(v=0;v<l.fields.length;v++){var w=b[j=l.fields[v]],k=Object.keys(w),E=y+"/"+j,S=new a.Set(k);if(l.presence==a.Query.presence.REQUIRED&&(d=d.union(S),void 0===o[j]&&(o[j]=a.Set.complete)),l.presence!=a.Query.presence.PROHIBITED){if(n[j].upsert(x,l.boost,(function(e,t){return e+t})),!i[E]){for(var P=0;P<k.length;P++){var I,O=k[P],T=new a.FieldRef(O,j),Q=w[O];void 0===(I=r[T])?r[T]=new a.MatchData(y,j,Q):I.add(y,j,Q)}i[E]=!0}}else void 0===s[j]&&(s[j]=a.Set.empty),s[j]=s[j].union(S)}}}if(l.presence===a.Query.presence.REQUIRED)for(v=0;v<l.fields.length;v++){o[j=l.fields[v]]=o[j].intersect(d)}}var C=a.Set.complete,L=a.Set.empty;for(u=0;u<this.fields.length;u++){var j;o[j=this.fields[u]]&&(C=C.intersect(o[j])),s[j]&&(L=L.union(s[j]))}var R=Object.keys(r),z=[],N=Object.create(null);if(t.isNegated()){R=Object.keys(this.fieldVectors);for(u=0;u<R.length;u++){T=R[u];var F=a.FieldRef.fromString(T);r[T]=new a.MatchData}}for(u=0;u<R.length;u++){var _=(F=a.FieldRef.fromString(R[u])).docRef;if(C.contains(_)&&!L.contains(_)){var M,B=this.fieldVectors[F],D=n[F.fieldName].similarity(B);if(void 0!==(M=N[_]))M.score+=D,M.matchData.combine(r[F]);else{var A={ref:_,score:D,matchData:r[F]};N[_]=A,z.push(A)}}}return z.sort((function(e,t){return t.score-e.score}))},a.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map((function(e){return[e,this.invertedIndex[e]]}),this),t=Object.keys(this.fieldVectors).map((function(e){return[e,this.fieldVectors[e].toJSON()]}),this);return{version:a.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},a.Index.load=function(e){var t={},r={},n=e.fieldVectors,i=Object.create(null),o=e.invertedIndex,s=new a.TokenSet.Builder,u=a.Pipeline.load(e.pipeline);e.version!=a.version&&a.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+a.version+"' does not match serialized index '"+e.version+"'");for(var l=0;l<n.length;l++){var c=(f=n[l])[0],d=f[1];r[c]=new a.Vector(d)}for(l=0;l<o.length;l++){var f,h=(f=o[l])[0],p=f[1];s.insert(h),i[h]=p}return s.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=i,t.tokenSet=s.root,t.pipeline=u,new a.Index(t)},a.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=a.tokenizer,this.pipeline=new a.Pipeline,this.searchPipeline=new a.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},a.Builder.prototype.ref=function(e){this._ref=e},a.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},a.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},a.Builder.prototype.k1=function(e){this._k1=e},a.Builder.prototype.add=function(e,t){var r=e[this._ref],n=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var i=0;i<n.length;i++){var o=n[i],s=this._fields[o].extractor,u=s?s(e):e[o],l=this.tokenizer(u,{fields:[o]}),c=this.pipeline.run(l),d=new a.FieldRef(r,o),f=Object.create(null);this.fieldTermFrequencies[d]=f,this.fieldLengths[d]=0,this.fieldLengths[d]+=c.length;for(var h=0;h<c.length;h++){var p=c[h];if(void 0==f[p]&&(f[p]=0),f[p]+=1,void 0==this.invertedIndex[p]){var m=Object.create(null);m._index=this.termIndex,this.termIndex+=1;for(var v=0;v<n.length;v++)m[n[v]]=Object.create(null);this.invertedIndex[p]=m}void 0==this.invertedIndex[p][o][r]&&(this.invertedIndex[p][o][r]=Object.create(null));for(var g=0;g<this.metadataWhitelist.length;g++){var y=this.metadataWhitelist[g],b=p.metadata[y];void 0==this.invertedIndex[p][o][r][y]&&(this.invertedIndex[p][o][r][y]=[]),this.invertedIndex[p][o][r][y].push(b)}}}},a.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},n={},i=0;i<t;i++){var o=a.FieldRef.fromString(e[i]),s=o.fieldName;n[s]||(n[s]=0),n[s]+=1,r[s]||(r[s]=0),r[s]+=this.fieldLengths[o]}var u=Object.keys(this._fields);for(i=0;i<u.length;i++){var l=u[i];r[l]=r[l]/n[l]}this.averageFieldLength=r},a.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,n=Object.create(null),i=0;i<r;i++){for(var o=a.FieldRef.fromString(t[i]),s=o.fieldName,u=this.fieldLengths[o],l=new a.Vector,c=this.fieldTermFrequencies[o],d=Object.keys(c),f=d.length,h=this._fields[s].boost||1,p=this._documents[o.docRef].boost||1,m=0;m<f;m++){var v,g,y,b=d[m],x=c[b],w=this.invertedIndex[b]._index;void 0===n[b]?(v=a.idf(this.invertedIndex[b],this.documentCount),n[b]=v):v=n[b],g=v*((this._k1+1)*x)/(this._k1*(1-this._b+this._b*(u/this.averageFieldLength[s]))+x),g*=h,g*=p,y=Math.round(1e3*g)/1e3,l.insert(w,y)}e[o]=l}this.fieldVectors=e},a.Builder.prototype.createTokenSet=function(){this.tokenSet=a.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},a.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new a.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},a.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},a.MatchData=function(e,t,r){for(var n=Object.create(null),i=Object.keys(r||{}),o=0;o<i.length;o++){var a=i[o];n[a]=r[a].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=n)},a.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var n=t[r],i=Object.keys(e.metadata[n]);void 0==this.metadata[n]&&(this.metadata[n]=Object.create(null));for(var o=0;o<i.length;o++){var a=i[o],s=Object.keys(e.metadata[n][a]);void 0==this.metadata[n][a]&&(this.metadata[n][a]=Object.create(null));for(var u=0;u<s.length;u++){var l=s[u];void 0==this.metadata[n][a][l]?this.metadata[n][a][l]=e.metadata[n][a][l]:this.metadata[n][a][l]=this.metadata[n][a][l].concat(e.metadata[n][a][l])}}}},a.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var n=Object.keys(r),i=0;i<n.length;i++){var o=n[i];o in this.metadata[e][t]?this.metadata[e][t][o]=this.metadata[e][t][o].concat(r[o]):this.metadata[e][t][o]=r[o]}else this.metadata[e][t]=r},a.Query=function(e){this.clauses=[],this.allFields=e},a.Query.wildcard=new String("*"),a.Query.wildcard.NONE=0,a.Query.wildcard.LEADING=1,a.Query.wildcard.TRAILING=2,a.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},a.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=a.Query.wildcard.NONE),e.wildcard&a.Query.wildcard.LEADING&&e.term.charAt(0)!=a.Query.wildcard&&(e.term="*"+e.term),e.wildcard&a.Query.wildcard.TRAILING&&e.term.slice(-1)!=a.Query.wildcard&&(e.term=e.term+"*"),"presence"in e||(e.presence=a.Query.presence.OPTIONAL),this.clauses.push(e),this},a.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=a.Query.presence.PROHIBITED)return!1;return!0},a.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach((function(e){this.term(e,a.utils.clone(t))}),this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},a.QueryParseError=function(e,t,r){this.name="QueryParseError",this.message=e,this.start=t,this.end=r},a.QueryParseError.prototype=new Error,a.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},a.QueryLexer.prototype.run=function(){for(var e=a.QueryLexer.lexText;e;)e=e(this)},a.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,n=0;n<this.escapeCharPositions.length;n++)r=this.escapeCharPositions[n],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},a.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},a.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},a.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return a.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},a.QueryLexer.prototype.width=function(){return this.pos-this.start},a.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},a.QueryLexer.prototype.backup=function(){this.pos-=1},a.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=a.QueryLexer.EOS&&this.backup()},a.QueryLexer.prototype.more=function(){return this.pos<this.length},a.QueryLexer.EOS="EOS",a.QueryLexer.FIELD="FIELD",a.QueryLexer.TERM="TERM",a.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",a.QueryLexer.BOOST="BOOST",a.QueryLexer.PRESENCE="PRESENCE",a.QueryLexer.lexField=function(e){return e.backup(),e.emit(a.QueryLexer.FIELD),e.ignore(),a.QueryLexer.lexText},a.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(a.QueryLexer.TERM)),e.ignore(),e.more())return a.QueryLexer.lexText},a.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(a.QueryLexer.EDIT_DISTANCE),a.QueryLexer.lexText},a.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(a.QueryLexer.BOOST),a.QueryLexer.lexText},a.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(a.QueryLexer.TERM)},a.QueryLexer.termSeparator=a.tokenizer.separator,a.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==a.QueryLexer.EOS)return a.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(":"==t)return a.QueryLexer.lexField;if("~"==t)return e.backup(),e.width()>0&&e.emit(a.QueryLexer.TERM),a.QueryLexer.lexEditDistance;if("^"==t)return e.backup(),e.width()>0&&e.emit(a.QueryLexer.TERM),a.QueryLexer.lexBoost;if("+"==t&&1===e.width())return e.emit(a.QueryLexer.PRESENCE),a.QueryLexer.lexText;if("-"==t&&1===e.width())return e.emit(a.QueryLexer.PRESENCE),a.QueryLexer.lexText;if(t.match(a.QueryLexer.termSeparator))return a.QueryLexer.lexTerm}else e.escapeCharacter()}},a.QueryParser=function(e,t){this.lexer=new a.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},a.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=a.QueryParser.parseClause;e;)e=e(this);return this.query},a.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},a.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},a.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},a.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(void 0!=t)switch(t.type){case a.QueryLexer.PRESENCE:return a.QueryParser.parsePresence;case a.QueryLexer.FIELD:return a.QueryParser.parseField;case a.QueryLexer.TERM:return a.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+t.type;throw t.str.length>=1&&(r+=" with value '"+t.str+"'"),new a.QueryParseError(r,t.start,t.end)}},a.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(void 0!=t){switch(t.str){case"-":e.currentClause.presence=a.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=a.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+t.str+"'";throw new a.QueryParseError(r,t.start,t.end)}var n=e.peekLexeme();if(void 0==n){r="expecting term or field, found nothing";throw new a.QueryParseError(r,t.start,t.end)}switch(n.type){case a.QueryLexer.FIELD:return a.QueryParser.parseField;case a.QueryLexer.TERM:return a.QueryParser.parseTerm;default:r="expecting term or field, found '"+n.type+"'";throw new a.QueryParseError(r,n.start,n.end)}}},a.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(void 0!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map((function(e){return"'"+e+"'"})).join(", "),n="unrecognised field '"+t.str+"', possible fields: "+r;throw new a.QueryParseError(n,t.start,t.end)}e.currentClause.fields=[t.str];var i=e.peekLexeme();if(void 0==i){n="expecting term, found nothing";throw new a.QueryParseError(n,t.start,t.end)}if(i.type===a.QueryLexer.TERM)return a.QueryParser.parseTerm;n="expecting term, found '"+i.type+"'";throw new a.QueryParseError(n,i.start,i.end)}},a.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(void 0!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf("*")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(void 0!=r)switch(r.type){case a.QueryLexer.TERM:return e.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return e.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;case a.QueryLexer.PRESENCE:return e.nextClause(),a.QueryParser.parsePresence;default:var n="Unexpected lexeme type '"+r.type+"'";throw new a.QueryParseError(n,r.start,r.end)}else e.nextClause()}},a.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(void 0!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n="edit distance must be numeric";throw new a.QueryParseError(n,t.start,t.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(void 0!=i)switch(i.type){case a.QueryLexer.TERM:return e.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return e.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;case a.QueryLexer.PRESENCE:return e.nextClause(),a.QueryParser.parsePresence;default:n="Unexpected lexeme type '"+i.type+"'";throw new a.QueryParseError(n,i.start,i.end)}else e.nextClause()}},a.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(void 0!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n="boost must be numeric";throw new a.QueryParseError(n,t.start,t.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(void 0!=i)switch(i.type){case a.QueryLexer.TERM:return e.nextClause(),a.QueryParser.parseTerm;case a.QueryLexer.FIELD:return e.nextClause(),a.QueryParser.parseField;case a.QueryLexer.EDIT_DISTANCE:return a.QueryParser.parseEditDistance;case a.QueryLexer.BOOST:return a.QueryParser.parseBoost;case a.QueryLexer.PRESENCE:return e.nextClause(),a.QueryParser.parsePresence;default:n="Unexpected lexeme type '"+i.type+"'";throw new a.QueryParseError(n,i.start,i.end)}else e.nextClause()}},void 0===(i="function"===typeof(n=function(){return a})?n.call(t,r,t,e):n)||(e.exports=i)}()},1876:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(7294),i=r(1336),o="Invariant failed";var a=function(e,t,r){var a=(0,n.useMemo)((function(){if(void 0!==t&&null!==t)return t instanceof i.Index?t:"string"===typeof t?i.Index.load(JSON.parse(t)):"object"===typeof t?i.Index.load(t):void function(e,t){if(!e)throw new Error(o)}(!1)}),[t]),s=(0,n.useMemo)((function(){return"string"===typeof r?JSON.parse(r):r}),[r]);return(0,n.useMemo)((function(){if(!e||!a)return[];var t="string"===typeof e?a.search(e):a.query(e);return s?t.map((function(e){var t=e.ref;return s[t]})):t}),[e,a,s])}}}]);